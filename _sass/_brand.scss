// ==========================================================================
// Theme Custom Layout
// ==========================================================================
//
// # Mixins
// # Scaffolding
// # Components
// # Miscellaneous
// # Customize Theme
//

// Mixins
// ==========================================================================

//
// Set color based background
//
// To dynamically change text color based on a background color
// more detais http://thesassway.com/intermediate/dynamically-change-text-color-based-on-its-background-with-sass
//
@function set-color-based-background($color) {
    @if lightness($color) > 54 {
        @return $gray-base;
    }
    @else {
        @return #ffffff;
    }
}

// https://github.com/twbs/bootstrap-sass/tree/37ea51e9ac2ea1e0f475f998f6df70fabf0996b7/assets/stylesheets/bootstrap/mixins
// https://github.com/twbs/bootstrap-sass/blob/37ea51e9ac2ea1e0f475f998f6df70fabf0996b7/assets/stylesheets/bootstrap/mixins/_vendor-prefixes.scss

@mixin grayscale {
    -moz-filter: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg'><filter id='grayscale'><feColorMatrix type='matrix' values='0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0'/></filter></svg>#grayscale");
    -o-filter: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg'><filter id='grayscale'><feColorMatrix type='matrix' values='0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0'/></filter></svg>#grayscale");
    -webkit-filter: grayscale(100%);
    filter: gray;
    filter: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg'><filter id='grayscale'><feColorMatrix type='matrix' values='0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0'/></filter></svg>#grayscale");
}

@mixin hover-img-zoom {
    img {
        @include transition(all 0.1s linear);
    }
    &:hover img {
        @include scale(1.15);
    }
}

a.thumbnail-opacity {
    border: none;
    @include opacity(0.4);
    @include transition(opacity 0.15s linear);
    &:hover.thumbnail {
        text-decoration: none;
        @include opacity(1);
    }
}

.animation-1s {
    @include animation(1s);
}

//
// Create Palete color and background
//
@mixin create-palette($site, $color) {
    //
    // Palete color and background
    //
    .palette-#{$site}-color {
        color: $color !important;
    }
    .palette-#{$site}-bg {
        background: $color !important;
    }
}

//
// Create theme
//
@mixin create-theme($site, $color, $bodyclass: true) {
    //
    // Palete color and background
    //
    @include create-palette($site, $color);
    //
    // Choose if will be for body with class or without
    //
    // @bodyclass true
    // Add name site as class
    //
    $element: body;
    @if $bodyclass {
        $element: "body." + $site;
    }
    #{$element} {
        @include text-emphasis-variant(".text-primary", $color);
        @include bg-variant(".bg-primary", $color);
        //
        // Header
        // =======================
        //
        // Navbar
        //
        #header .navbar {
            border-bottom: 5px solid $color !important;
        }
        //
        // Page Header
        //
        #header .page-header {
            //
            // Background and color
            //
            background: $color;
            @include gradient-directional($color, darken($color, 5%), $deg: 45deg);
            color: set-color-based-background($color);
            a {
                color: set-color-based-background($color);
            }
            //
            // Botao default
            //
            .btn-default,
            a.btn-default,
            button.btn-default {
                @include button-variant(set-color-based-background($color), $color, set-color-based-background($color));
            }
            //
            // Botao Principal
            //
            .btn-primary,
            a.btn-primary,
            button.btn-primary {
                @include button-variant($color, set-color-based-background($color), $color);
            }
        }
        //
        // Content and Sidebar
        // =======================
        //
        #content, #sidebar {
            //
            // Paineis
            //
            .panel.panel-primary {
                border-color: $color;
                .panel-heading {
                    background: $color;
                    color: set-color-based-background($color);
                    border-color: $color;
                }
            }
            //
            // Botao Principal
            //
            .btn-primary,
            a.btn-primary,
            button.btn-primary {
                @include button-variant($color, set-color-based-background($color), $color);
            }
            //
            // Label Principal
            //
            .label-primary {
                background: $color !important;
                color: set-color-based-background($color);
            }
            //
            // List group
            //
            .list-group-item.active {
                background: $color;
                color: set-color-based-background($color);
                border-color: lighten($color, 10%);
            }
            .btn-group-vertical .active {
                border-left: 5px solid $color !important;
                box-shadow: none;
            }
        }
        //
        // Components
        // =======================
        //
        // Carousel Banner
        .carousel-control:hover {
            color: $color !important;
        }
        .carousel-indicators .active {
            background: $color !important;
        }
        //
        // Footer
        // =======================
        //
        /*
        #footer {
            border-top: 5px solid $color !important;
            h4 {
                color: lighten($color, 15%) !important;
            }
            .btn-primary.show-map {
                color: lighten($color, 15%);
                border: 1px solid lighten($color, 15%);
                &:hover {
                    color: #fff;
                    border: 1px solid #fff;
                    background: none;
                }
            }
            .list-unstyled li {
                &:hover {
                    border-left-color: lighten($color, 15%);
                }
            }
        }
        */
    }
}

// Scaffolding
// ==========================================================================
//
// Update the basics of our documents to prep for docs content.
//
html {
    background: #e3e9ea;
}

body {
    max-width: 1400px;
    margin: 0 auto;
    border: none;
}

.container {
    max-width: 960px;
    .navbar {
        @extend .row;
    }
}

//
// navbar-secundary
//
//
.navbar {
    //max-width: 960px;
    margin: 0 auto;
    border-radius: 0;
    border: 0;
    border-bottom: 1px solid #dde4e7;
    .nav a {
        font-size: 12px;
        //font-weight: bold;

    }
}

// Components
// ==========================================================================

//
// Modifier class for 21:9 aspect ratio
//
.embed-responsive-21by9 {
    padding-bottom: 42.19%;
}

//
// Modifier class for 1:1 aspect ratio
//
.embed-responsive-1by1 {
    padding-bottom: 100%;
}

// Miscellaneous
// ==========================================================================

//
// Show grids columns
//
.show-grid [class^="col-"] {
    padding-top: 10px;
    padding-bottom: 10px;
    background-color: #eee;
    background-color: rgba(86, 61, 124, 0.15);
    border: 1px solid #ddd;
    border: 1px solid rgba(86, 61, 124, 0.2);
}

//
// Fancy skip link
//
// Make it look a bit less "bare bones"
// Also includes focus suppression for the Chrome tabindex="-1" workaround
//
#skippy {
    display: block;
    padding: 1em;
    background-color: #f5f5f5;
    outline: 0;
}

#skippy .skiplink-text {
    padding: .5em;
    outline: 1px dotted;
}

#content:focus {
    outline: none;
}

// Logos
// ==========================================================================
//https://css-tricks.com/using-svg/
//https://css-tricks.com/almanac/properties/b/background-size/
//http://petercollingridge.appspot.com/svg-editor
//http://www.mobilefish.com/services/base64/base64.php

//
// Header Site
//
// Show all logos, site, centro paula souza and governo do estado de sao paulo
//
$brand-header-logo-color: $gray-base;
$brand-header-logo-color-hover: lighten($brand-header-logo-color, 10%);

$fill-logo-fatec-s0: #3A5461;

//#3A5461;     FATEC
$fill-logo-fatec-s1: #B01116;

// #B01116;   Baixada Santista
$fill-logo-fatec-s2: #3A5461;

// #3A5461;     Rubens Lara

$fill-logo-etec-s0: #3A5461;

//#3A5461;     FATEC
$fill-logo-etec-s1: #B01116;

// #B01116;   Baixada Santista
$fill-logo-etec-s2: #3A5461;

// #3A5461;     Rubens Lara

$fill-logo-dark: #283337;

//#000;
$fill-logo-white: #fff;

$fill-logo-cps-s0: #B01116;

// B01116 CENTRO PAULA SOUZA

$fill-logo-sp-s0: white;

//#3A5461     FATEC
$fill-logo-sp-s1: #FFD400;

//#B01116   Baixada Santista
$fill-logo-sp-s2: #034EA2;

//#3A5461    Rubens Lara
$fill-logo-sp-s3: #ED1C24;

//#3A5461    Rubens Lara
$fill-logo-sp-s4: black;

.logo {
    display: inline-block;
    width: 100%;
    &.logo-2x {
        zoom: 150%;
        -moz-transform: scale(1.5);
    }
    &.logo-3x {
        zoom: 200%;
        -moz-transform: scale(2);
    }
    &.logo-4x {
        zoom: 250%;
        -moz-transform: scale(2.5);
    }
    &:hover {
        text-decoration: none;
    }
    h1, h2, p, abbr, span { width: 110%; }
    &.logo-fatec {
        //zoom: 100%; -moz-transform: scale(1);
        background-image: url(../brand/fatec/logo.svg);
        background-repeat: no-repeat;
        background-position: top left;
        background-size: 100% !important;
        width: 170px;

        &::before, &::after, .title, .sub-title {
            position: relative;
            background: transparent;
            text-align: right;
            display: block;
            max-width: 170px;
            /*margin-right: auto;
            margin-left: auto;*/
            /*white-space: nowrap;*/
            width: 100%;
        }
        &::before, .title {
            @extend .h1;
            color: $fill-logo-fatec-s1;
            font-size: 1.45em;
            margin-top: 55px;
            content: attr(data-title);
        }
        &::after, .sub-title {
            @extend .h2;
            color: $fill-logo-fatec-s2;
            font-size: 1.20em;
            margin-top: -10px;
            content: attr(data-sub-title);
        }
        &.logo-dark {
            background-image: url(../brand/fatec/logo-dark.svg);
            &::before,
            &::after {
                color: #{$fill-logo-dark};
            }
            h1, h2, p, abbr, span {
              color: #{$fill-logo-dark}
            }
        }
        &.logo-light {
            background-image: url(../brand/fatec/logo-light.svg);
            &::before,
            &::after {
                color: #{$fill-logo-white};
            }
            h1, h2, p, abbr, span {
              color: #{$fill-logo-white}
            }
        }
    }
    &.logo-etec {
        background-image: url(../brand/etec/logo.svg);
        background-repeat: no-repeat;
        background-position: top left;
        background-size: 100% !important;
        width: 170px;
        height: 65px;
        &::before, &::after, .title, .sub-title {
            position: relative;
            background: transparent;
            text-align: right;
            display: block;
            max-width: 170px;
            /*margin-right: auto;
            margin-left: auto;*/
            /*white-space: nowrap;*/
            width: 100%;
            //float: right;

        }
        &::before, .title {
            @extend .h1;
            color: $fill-logo-etec-s1;
            font-size: 1.45em;
            margin-top: 70px;
            content: attr(data-title);
        }
        &::after, .sub-title {
            @extend .h2;
            color: $fill-logo-etec-s2;
            font-size: 1.20em;
            margin-top: -5px;
            content: attr(data-sub-title);
        }
        &.logo-dark {
            background-image: url(../brand/etec/logo-dark.svg);
            &::before,
            &::after {
                color: #{$fill-logo-dark};
            }
        }
        &.logo-light {
            background-image: url(../brand/etec/logo-light.svg);
            &::before,
            &::after {
                color: #{$fill-logo-white};
            }
        }
    }
    &.logo-cps {
        zoom: 90%; -moz-transform: scale(0.90);
        background-image: url(../brand/cps/logo.svg);
        background-size: 100% !important;
        background-repeat: no-repeat;
        background-position: center center;
        width: 125px;
        height: 80px;
        &.logo-dark {
            background-image: url(../brand/cps/logo-dark.svg);
        }
        &.logo-light {
            background-image: url(../brand/cps/logo-light.svg);
        }
        &.logo-gray {
            background-image: url(../brand/cps/logo-gray.svg); // 808183
        }
    }
    &.logo-governo-sp {
        zoom: 90%; -moz-transform: scale(0.90);
        background-image: url(../brand/governo-sp/logo.svg);
        background-size: 100% !important;
        background-repeat: no-repeat;
        background-position: center center;
        width: 290px;
        height: 60px;
        &.logo-dark {
            background-image: url(../brand/governo-sp/logo-dark.svg);
        }
        &.logo-light {
            background-image: url(../brand/governo-sp/logo-light.svg);
        }
    }
}

#header {
    .logo-group {
        @extend .row;
        @extend .hidden-xs;
        height: 125px;
        padding-top: 15px;
        padding-bottom: 10px;
        // Todos os logos
        .logo-group-item {
            @extend .col-sm-4;
            height: 100px;
            //background: yellow;
            .logo {
                @extend .center-block;
                min-height: 100px;
            }
            &:first-child {
                @extend .col-sm-4;
                //background: lime;
                .logo {
                    @extend .pull-left;
                }
            }
            &:last-child {
                @extend .col-sm-4;
                //background: aqua;
                .logo {
                    @extend .pull-right;
                }
            }
        }
    }
}

//
// Navbar
//
// Navbar main in #header, with affix effect
//
#header .navbar {
    //@extend .navbar;
    @extend .navbar-inverse;
    width: 100%;
    max-width: 1400px;
    .navbar-brand {
        font-size: 16px;
        img, svg {
            height: 30px;
            margin-top: -3px;
        }
    }
    &.affix-top {
        .navbar-brand {
            img, svg {
                @include opacity(0);
                @include transition(all 0.1s linear);
                margin-left: -50px;
            }
        }
    }
    &.affix {
        position: fixed;
        z-index: $zindex-navbar;
        top: 0;
        .navbar-brand {
            img, svg {
                margin-left: 15px;
                @include opacity(1);
                @include transition(all 0.1s linear);
            }
        }
    }
    .dropdown-menu {
        .glyphicon {
            margin-right: 5px;
            font-size: 14px;
        }
    }
}

//
// Page Header in #header
//
#header .page-header {
    @extend .text-center;
    padding: 30px 30px 140px;
    margin-top: 0;
    margin-bottom: -100px;
    color: set-color-based-background(white);
    a:link {
        font-weight: bold;
    }
    a.btn {
        font-weight: normal;
    }
    // Background image, testar
    &:before {
        position: absolute;
        z-index: -1;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        content: '';
        opacity: 1;
        background-image: none;
        background-repeat: no-repeat;
        background-position: center top;
        background-size: cover;
        opacity: 0.25;
        @include grayscale;
        background-image: none;
    }
}

//
// Wrapper
//
// Contain the content main and sidebar
//
#wrapper {
    background: #fff;
    padding: 0 30px 30px;
}

// Customize Theme
// ==========================================================================
//
// Generate theme for default Centro Paula Souza
//
@include create-theme($cps-name, $cps-color, false);

@include create-theme($fatec-name, $fatec-color, true);

@include create-theme($etec-name, $etec-color, true);

//
// Generate theme for all courses
//
@each $site, $color in ($default-name, $default-color), ($ads-name, $ads-color), ($ge-name, $ge-color), ($gp-name, $gp-color), ($si-name, $si-color), ($log-name, $log-color) {
    @include create-theme($site, $color);
}

//@include create-palette($site, $color);

//
// Generate palletes
//
@each $site, $color in ("branco", #fff), ("cps-principal", $cps-color), ("fatec-principal", $fatec-color), ("etec-principal", $etec-color), ("cinza-escuro-extra", $gray-base), ("cinza-escuro", $gray-dark), ("cinza", $gray), ("cinza-claro", $gray-light), ("cinza-claro-extra", $gray-lighter) {
    @include create-palette($site, $color);
}

//$default-color: #69868e;
